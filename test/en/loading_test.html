<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- <base href="https://www.pcaramori.com.br/test/"> -->
    <base href="http://127.0.0.1:5500/test/">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | Pcaramori</title>
    <!-- CSS -->
    <link rel="stylesheet" href="./src/css/main.css">
    <link rel="stylesheet" href="./en/test.css">
    <!-- JS -->
    <script src="https://kit.fontawesome.com/68f907237b.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="./src/js/main.js"></script>
    <script src="./src/js/landing.js"></script>
    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Muli&family=MuseoModerno:wght@300&family=Oxanium:wght@200&display=swap" rel="stylesheet">
</head>

<body>
    <div class="intro-container">
        <div class="console">
        </div>
        <div class="input big-input">
            <i class="fas fa-chevron-right"></i>
            <p class="pre" style="display:none;"></p>
            <input type="text" class="ui" autofocus>
        </div>
    </div>
</body>

</html>


<script>
    let userInput = document.querySelector('.input input')
    userInput.addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            new consoleItem(userInput.value, 'gray', false, true)
            if (userInput.value.toLowerCase().replace(/\s+/g, '') == "start") {
                new consoleItem('Access Granted', 'green', true)
                startAnim();
            } else {
                new consoleItem("Type \"start\" to begin", "red", false)
            }
            userInput.value = '';
        }
    });

    let randomConsoleCommands = [

    ]
    let consoleItemList = [];
    const consoleUserName = "user:" + Math.round(Math.random() * 1000) + " > "
    class consoleItem {
        constructor(str, color, glowing, madeByUser) {
            if (color) {
                this.color = "var(--TERMINAL-" + color + ")"
            } else {
                this.color = "white"
            }
            consoleItemList.push(this)
            this.e = document.createElement('p')
            this.user = document.createElement('span')
            this.user.classList.add("TERMINAL-user")
            if (madeByUser) {
                this.user.innerHTML = consoleUserName
            } else {
                this.user.innerHTML = "Pcaramori.com > "
            }
            this.e.appendChild(this.user)
            this.text = document.createElement('span')
            this.text.innerHTML = str
            this.text.style.color = this.color
            if (glowing) {
                this.text.classList.add("TERMINAL-glowing")
            }
            this.e.appendChild(this.text)
            this.printToConsole()
        }

        printToConsole = () => {
            document.querySelector('.console').appendChild(this.e)
        }

        removeFromConsole = () => {
            this.e.remove()
            let index = consoleItemList.indexOf(this)
            consoleItemList.splice(index, 1)
        }
    }

    // function makeid() { //8 long hash
    //     var result = '';
    //     var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    //     for (var i = 0; i < 8; i++) {
    //         result += characters.charAt(Math.floor(Math.random() * characters.length));
    //     }

    //     if (hashItemList.includes(result)) {
    //         return makeid();
    //     } else {
    //         return result;
    //     }
    // }
    new consoleItem("Type \"start\" to begin", false, false)


    function startAnim() {
        document.querySelector('.input i').style.display = "none"
        document.querySelector('.input input').style.fontSize = "1rem"
        document.querySelector('.big-input').classList.remove('big-input')
        document.querySelector('.input .pre').innerHTML = consoleUserName
        document.querySelector('.input .pre').style.display = ''

    }
</script>